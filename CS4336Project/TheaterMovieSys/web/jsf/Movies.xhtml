<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- 
Description:
This page is the movies page where it listed all the movie we have up to date and the user can select which 
movie they want to watch. The movie is also query by the backing bean to the ejb and to the database to get
information. The movie only pertain to the theater that the user select from the prior page. 
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>

        <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

        <!-- Latest compiled JavaScript -->
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
        <!--CSS style sheet -->
        <link rel="stylesheet" href="./ViewFormat.css" />
        
        <title>Movies</title>
        
    </h:head>
    <h:body class="mainBody">
        <div class="intro">
            <h2><u>Select a movie from the movies below.</u></h2>   
        </div>
        <div class="formBody">
            <h:form>
                <h:dataTable value="#{movieTheaterCtrl.movieList}" var="movie" style="align-content: center; align-self: center; text-align: center; margin: 0 auto;">
                    <h:column>
                      <f:facet name="header">
                          <h:outputText value=""/>
                      </f:facet>
                        <h:graphicImage value="#{movie.mvurl}" width="400px" height="500px"/>
                        <div class="movieDesc">
                            <h:outputText value="#{movie.mvdesc}" />
                        </div>
                        <h:commandButton value="Watch #{movie.mvname}" action="#{movieTheaterCtrl.getTimes()}" class="divSpace">
                            <f:actionListener binding="#{movieTheaterCtrl.setMovieName(movie.mvname)}" />
                        </h:commandButton>
                    </h:column>
                </h:dataTable>
            </h:form>
        </div>
    </h:body>
</html>

